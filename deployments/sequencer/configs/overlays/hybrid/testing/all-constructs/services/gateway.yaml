# Gateway service configuration with all constructs enabled
name: gateway

# StatefulSet disabled (gateway uses Deployment by default)
statefulSet:
  enabled: false

# UpdateStrategy for Deployment
updateStrategy:
  type: "RollingUpdate"
  rollingUpdate:
    maxUnavailable: "25%"

# Service with ports
service:
  enabled: true
  type: ClusterIP
  ports:
    - name: gateway
      port: 55002
      targetPort: 55002
      protocol: TCP
    - name: monitoring-endpoint
      port: 8082
      targetPort: 8082
      protocol: TCP

# Ingress Configuration - Enabled
ingress:
  enabled: true
  ingressClassName: "nginx"
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: "/"
    nginx.ingress.kubernetes.io/ssl-redirect: "true"
    cert-manager.io/cluster-issuer: "letsencrypt-staging"
  hosts:
    - "sequencer-test.local"
  path: "/"
  pathType: "Prefix"
  backendServiceName: "sequencer-gateway-service"
  backendServicePort: 8082
  extraPaths: []
  alternative_names: []
  rules: []
  tls:
    - secretName: "sequencer-tls"
      hosts:
        - "sequencer-test.local"

# Extra Services example
extraServices:
  - name: gateway-external
    type: "LoadBalancer"
    ports:
      - name: gateway
        port: 55002
        targetPort: 55002
        protocol: TCP
    annotations:
      cloud.google.com/load-balancer-type: "Internal"
